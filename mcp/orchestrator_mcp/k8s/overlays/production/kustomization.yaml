apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: production

resources:
  - ../../base

patchesStrategicMerge:
  - patch-deployment.yaml

configMapGenerator:
  - name: production-config
    literals:
      - ENVIRONMENT=production
      - LOG_LEVEL=info
      - METRICS_ENABLED=true

images:
  - name: oguncarpentry-orchestrator
    newTag: production
  - name: python_services-rag_service
    newTag: production
  - name: python_services-docling_service
    newTag: production

commonLabels:
  environment: production
  version: production

replicas:
  - name: orchestrator
    count: 3
  - name: rag-service
    count: 2
  - name: docling-service
    count: 2